<!doctype html>
<html>
<head>
 <title>String storage</title>
</head>
<body>
 <div id="string-box"></div>
 <form method="POST" action="api/1">
  <input name="str" type="text">
  <input type="submit" value="Store string!">
 </form>
 <script>
  var req = new XMLHttpRequest();
  req.open("GET", "api/1");
  req.onreadystatechange = function() {
    console.log(req);
    if (req.readyState == 4 && req.status === 200) {
      var box = document.getElementById("string-box");
      var strs = JSON.parse(req.responseText);
      for (i=0; i<strs.length; i++) {
        var p = document.createElement("p");
        p.appendChild(document.createTextNode(strs[i]));
        box.appendChild(p);
      }
    }
  };
  req.send(null);
 </script>
</body>
</html>
